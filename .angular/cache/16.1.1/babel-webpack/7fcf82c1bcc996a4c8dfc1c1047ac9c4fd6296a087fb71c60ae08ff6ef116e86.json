{"ast":null,"code":"import html2canvas from 'html2canvas';\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"screenshotAreaID\"];\nclass ScreenshotComponent {\n  changeImg() {\n    html2canvas(this.screenshotArea.nativeElement, {\n      useCORS: true\n    }).then(canvas => {\n      this.shareImage = canvas.toDataURL();\n      canvas.toBlob(blob => {\n        if (blob) {\n          // 添加条件判断\n          var reader = new FileReader();\n          reader.readAsDataURL(blob);\n          reader.onloadend = function () {\n            let base64data = reader.result;\n            console.log('Base64--> ' + base64data);\n          };\n        }\n      });\n    });\n  }\n}\nScreenshotComponent.ɵfac = function ScreenshotComponent_Factory(t) {\n  return new (t || ScreenshotComponent)();\n};\nScreenshotComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ScreenshotComponent,\n  selectors: [[\"app-screenshot\"]],\n  viewQuery: function ScreenshotComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.screenshotArea = _t.first);\n    }\n  },\n  decls: 12,\n  vars: 1,\n  consts: [[1, \"text-2xl\", \"font-bold\"], [1, \"screenshotArea\"], [\"screenshotAreaID\", \"\"], [1, \"bg\"], [1, \"my-4\", \"bg-blue-500\", \"hover:bg-blue-700\", \"text-white\", \"font-bold\", \"py-2\", \"px-4\", \"rounded\", 3, \"click\"], [\"alt\", \"\", 1, \"my4\", 3, \"src\"]],\n  template: function ScreenshotComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\", 0);\n      i0.ɵɵtext(1, \"\\u622A\\u5716\\u529F\\u80FD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1, 2)(4, \"div\", 3)(5, \"p\");\n      i0.ɵɵtext(6, \"nu\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(7, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function ScreenshotComponent_Template_button_click_7_listener() {\n        return ctx.changeImg();\n      });\n      i0.ɵɵtext(8, \" \\u622A\\u5716\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"p\");\n      i0.ɵɵtext(10, \"\\u67E5\\u770B\\u622A\\u5716\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"img\", 5);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(11);\n      i0.ɵɵpropertyInterpolate(\"src\", ctx.shareImage, i0.ɵɵsanitizeUrl);\n    }\n  },\n  styles: [\".screenshotArea[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  width: 100px;\\n  height: 100px;\\n  border-radius: 24px;\\n  background-color: darkblue;\\n  border: 1px solid darkblue;\\n  overflow: hidden;\\n}\\n.screenshotArea[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100%;\\n  height: 50px;\\n  background-color: #fff;\\n  color: darkblue;\\n  font-size: 55px;\\n  font-weight: 700;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbWFpbi9tZWRpYS9zY3JlZW5zaG90L3NjcmVlbnNob3QuY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi8uLi8uLi8uLi8uLi8lRTYlOTYlODclRTQlQkIlQjYvR2l0SHViL2FuZ3VsYXIvYW5ndWxhcl9tb2R1bGUvc3JjL2FwcC9tYWluL21lZGlhL3NjcmVlbnNob3Qvc2NyZWVuc2hvdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSwwQkFBQTtFQUNBLDBCQUFBO0VBQ0EsZ0JBQUE7QUNDRjtBRENFO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHNCQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQ0NKIiwic291cmNlc0NvbnRlbnQiOlsiLnNjcmVlbnNob3RBcmVhIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgd2lkdGg6IDEwMHB4O1xyXG4gIGhlaWdodDogMTAwcHg7XHJcbiAgYm9yZGVyLXJhZGl1czogMjRweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrYmx1ZTtcclxuICBib3JkZXI6IDFweCBzb2xpZCBkYXJrYmx1ZTtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG5cclxuICAuYmd7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDUwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gICAgY29sb3I6IGRhcmtibHVlO1xyXG4gICAgZm9udC1zaXplOiA1NXB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcclxuXHJcbiAgfVxyXG5cclxufVxyXG4iLCIuc2NyZWVuc2hvdEFyZWEge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB3aWR0aDogMTAwcHg7XG4gIGhlaWdodDogMTAwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDI0cHg7XG4gIGJhY2tncm91bmQtY29sb3I6IGRhcmtibHVlO1xuICBib3JkZXI6IDFweCBzb2xpZCBkYXJrYmx1ZTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cbi5zY3JlZW5zaG90QXJlYSAuYmcge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgY29sb3I6IGRhcmtibHVlO1xuICBmb250LXNpemU6IDU1cHg7XG4gIGZvbnQtd2VpZ2h0OiA3MDA7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { ScreenshotComponent };","map":{"version":3,"names":["html2canvas","ScreenshotComponent","changeImg","screenshotArea","nativeElement","useCORS","then","canvas","shareImage","toDataURL","toBlob","blob","reader","FileReader","readAsDataURL","onloadend","base64data","result","console","log","selectors","viewQuery","ScreenshotComponent_Query","rf","ctx","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ScreenshotComponent_Template_button_click_7_listener","ɵɵelement","ɵɵadvance","ɵɵpropertyInterpolate","ɵɵsanitizeUrl"],"sources":["C:\\Users\\nueut\\OneDrive\\文件\\GitHub\\angular\\angular_module\\src\\app\\main\\media\\screenshot\\screenshot.component.ts","C:\\Users\\nueut\\OneDrive\\文件\\GitHub\\angular\\angular_module\\src\\app\\main\\media\\screenshot\\screenshot.component.html"],"sourcesContent":["import { Component, ElementRef, ViewChild } from '@angular/core';\nimport html2canvas from 'html2canvas';\n\n@Component({\n  selector: 'app-screenshot',\n  templateUrl: './screenshot.component.html',\n  styleUrls: ['./screenshot.component.scss'],\n})\nexport class ScreenshotComponent {\n  shareImage: any;\n  @ViewChild('screenshotAreaID', { static: true }) screenshotArea!: ElementRef;\n\n  changeImg() {\n    html2canvas(this.screenshotArea.nativeElement, {\n      useCORS: true,\n    }).then((canvas) => {\n      this.shareImage = canvas.toDataURL();\n      canvas.toBlob((blob) => {\n        if (blob) {\n          // 添加条件判断\n          var reader = new FileReader();\n          reader.readAsDataURL(blob);\n          reader.onloadend = function () {\n            let base64data = reader.result;\n            console.log('Base64--> ' + base64data);\n          };\n        }\n      });\n    });\n  }\n}\n","<h1 class=\"text-2xl font-bold\">截圖功能</h1>\n\n<div #screenshotAreaID class=\"screenshotArea\">\n  <div class=\"bg\"><p>nu</p></div>\n</div>\n\n<button\n  class=\"my-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\n  (click)=\"changeImg()\"\n>\n  截圖\n</button>\n<p>查看截圖</p>\n\n<img src=\"{{ shareImage }}\" alt=\"\" class=\"my4\" />\n"],"mappings":"AACA,OAAOA,WAAW,MAAM,aAAa;;;AAErC,MAKaC,mBAAmB;EAI9BC,SAASA,CAAA;IACPF,WAAW,CAAC,IAAI,CAACG,cAAc,CAACC,aAAa,EAAE;MAC7CC,OAAO,EAAE;KACV,CAAC,CAACC,IAAI,CAAEC,MAAM,IAAI;MACjB,IAAI,CAACC,UAAU,GAAGD,MAAM,CAACE,SAAS,EAAE;MACpCF,MAAM,CAACG,MAAM,CAAEC,IAAI,IAAI;QACrB,IAAIA,IAAI,EAAE;UACR;UACA,IAAIC,MAAM,GAAG,IAAIC,UAAU,EAAE;UAC7BD,MAAM,CAACE,aAAa,CAACH,IAAI,CAAC;UAC1BC,MAAM,CAACG,SAAS,GAAG;YACjB,IAAIC,UAAU,GAAGJ,MAAM,CAACK,MAAM;YAC9BC,OAAO,CAACC,GAAG,CAAC,YAAY,GAAGH,UAAU,CAAC;UACxC,CAAC;;MAEL,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;;AArBWf,mBAAmB,C;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB,C;QAAnBA,mBAAmB;EAAAmB,SAAA;EAAAC,SAAA,WAAAC,0BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;;;;;;;;;;;;;MCRhCE,EAAA,CAAAC,cAAA,YAA+B;MAAAD,EAAA,CAAAE,MAAA,+BAAI;MAAAF,EAAA,CAAAG,YAAA,EAAK;MAExCH,EAAA,CAAAC,cAAA,gBAA8C;MACzBD,EAAA,CAAAE,MAAA,SAAE;MAAAF,EAAA,CAAAG,YAAA,EAAI;MAG3BH,EAAA,CAAAC,cAAA,gBAGC;MADCD,EAAA,CAAAI,UAAA,mBAAAC,qDAAA;QAAA,OAASN,GAAA,CAAAtB,SAAA,EAAW;MAAA,EAAC;MAErBuB,EAAA,CAAAE,MAAA,sBACF;MAAAF,EAAA,CAAAG,YAAA,EAAS;MACTH,EAAA,CAAAC,cAAA,QAAG;MAAAD,EAAA,CAAAE,MAAA,gCAAI;MAAAF,EAAA,CAAAG,YAAA,EAAI;MAEXH,EAAA,CAAAM,SAAA,cAAiD;;;MAA5CN,EAAA,CAAAO,SAAA,IAAsB;MAAtBP,EAAA,CAAAQ,qBAAA,QAAAT,GAAA,CAAAhB,UAAA,EAAAiB,EAAA,CAAAS,aAAA,CAAsB;;;;;SDNdjC,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}